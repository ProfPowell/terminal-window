<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>cURL Commands - terminal-window Demo</title>
  <meta name="description" content="Interactive cURL command reference with simulated terminal.">
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <header class="site-header">
    <nav>
      <a href="../index.html" class="nav-brand">&lt;terminal-window&gt;</a>
      <div class="nav-links">
        <a href="../index.html">Home</a>
        <a href="../demos.html" class="active">Demos</a>
        <a href="../api.html">API</a>
        <a href="https://github.com/ProfPowell/terminal-window" target="_blank" rel="noopener">GitHub</a>
        <button class="theme-toggle" aria-label="Toggle theme">ðŸŒ“</button>
      </div>
    </nav>
  </header>

  <main class="demo-layout">
    <!-- Sidebar Navigation -->
    <aside class="demo-sidebar">
      <h2>cURL Commands</h2>

      <nav class="command-nav">
        <details open>
          <summary>Basic Requests</summary>
          <div class="command-group">
            <p class="command-desc">Simple HTTP requests to fetch content.</p>
            <div class="command-buttons">
              <button onclick="run('curl https://api.example.com')">GET request</button>
              <button onclick="run('curl -v https://api.example.com')">verbose</button>
              <button onclick="run('curl -s https://api.example.com')">silent</button>
              <button onclick="run('curl -I https://api.example.com')">headers only</button>
              <button onclick="run('curl -i https://api.example.com')">include headers</button>
            </div>
          </div>
        </details>

        <details>
          <summary>HTTP Methods</summary>
          <div class="command-group">
            <p class="command-desc">Different HTTP methods for REST APIs.</p>
            <div class="command-buttons">
              <button onclick="run('curl -X GET https://api.example.com/users')">GET</button>
              <button onclick="run('curl -X POST https://api.example.com/users')">POST</button>
              <button onclick="run('curl -X PUT https://api.example.com/users/1')">PUT</button>
              <button onclick="run('curl -X PATCH https://api.example.com/users/1')">PATCH</button>
              <button onclick="run('curl -X DELETE https://api.example.com/users/1')">DELETE</button>
              <button onclick="run('curl -X OPTIONS https://api.example.com')">OPTIONS</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Sending Data</summary>
          <div class="command-group">
            <p class="command-desc">Send data in request body.</p>
            <div class="command-buttons">
              <button onclick="run('curl -d &quot;name=John&amp;email=john@example.com&quot; https://api.example.com/users')">form data</button>
              <button onclick="run('curl --data-urlencode &quot;query=hello world&quot; https://api.example.com/search')">URL encode</button>
              <button onclick="run('curl -X POST -H &quot;Content-Type: application/json&quot; -d &quot;{ name: John }&quot; https://api.example.com/users')">JSON body</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Headers</summary>
          <div class="command-group">
            <p class="command-desc">Add custom HTTP headers.</p>
            <div class="command-buttons">
              <button onclick="run('curl -H &quot;Content-Type: application/json&quot; https://api.example.com')">Content-Type</button>
              <button onclick="run('curl -H &quot;Accept: application/json&quot; https://api.example.com')">Accept</button>
              <button onclick="run('curl -H &quot;Authorization: Bearer abc123token&quot; https://api.example.com/protected')">Bearer Token</button>
              <button onclick="run('curl -H &quot;X-API-Key: myapikey&quot; https://api.example.com')">API Key</button>
              <button onclick="run('curl -H &quot;User-Agent: MyApp/1.0&quot; https://api.example.com')">User-Agent</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Authentication</summary>
          <div class="command-group">
            <p class="command-desc">Various authentication methods.</p>
            <div class="command-buttons">
              <button onclick="run('curl -u admin:secret123 https://api.example.com/admin')">Basic Auth</button>
              <button onclick="run('curl --digest -u admin:secret https://api.example.com')">Digest Auth</button>
              <button onclick="run('curl -H &quot;Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...&quot; https://api.example.com')">JWT Token</button>
            </div>
          </div>
        </details>

        <details>
          <summary>File Uploads</summary>
          <div class="command-group">
            <p class="command-desc">Upload files with multipart form data.</p>
            <div class="command-buttons">
              <button onclick="run('curl -F &quot;file=@photo.jpg&quot; https://api.example.com/upload')">upload file</button>
              <button onclick="run('curl -F &quot;file=@document.pdf;type=application/pdf&quot; https://api.example.com/upload')">with MIME</button>
              <button onclick="run('curl -T localfile.txt https://server.com/upload/')">PUT upload</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Downloading</summary>
          <div class="command-group">
            <p class="command-desc">Save responses to files.</p>
            <div class="command-buttons">
              <button onclick="run('curl -o page.html https://example.com')">save as (-o)</button>
              <button onclick="run('curl -O https://example.com/file.zip')">keep name (-O)</button>
              <button onclick="run('curl -C - -O https://example.com/largefile.zip')">resume</button>
              <button onclick="run('curl --limit-rate 100K -O https://example.com/file.zip')">limit speed</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Redirects & Cookies</summary>
          <div class="command-group">
            <p class="command-desc">Handle redirects and cookies.</p>
            <div class="command-buttons">
              <button onclick="run('curl -L https://example.com/redirect')">follow redirects</button>
              <button onclick="run('curl --max-redirs 5 -L https://example.com')">limit redirects</button>
              <button onclick="run('curl -c cookies.txt https://example.com/login')">save cookies</button>
              <button onclick="run('curl -b cookies.txt https://example.com/dashboard')">send cookies</button>
            </div>
          </div>
        </details>

        <details>
          <summary>SSL/TLS</summary>
          <div class="command-group">
            <p class="command-desc">Handle HTTPS connections.</p>
            <div class="command-buttons">
              <button onclick="run('curl -k https://self-signed.example.com')">skip verify</button>
              <button onclick="run('curl --cacert /path/to/ca.crt https://example.com')">custom CA</button>
              <button onclick="run('curl --cert client.pem https://example.com')">client cert</button>
              <button onclick="run('curl --tlsv1.3 https://example.com')">force TLS 1.3</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Timeouts & Retries</summary>
          <div class="command-group">
            <p class="command-desc">Control connection behavior.</p>
            <div class="command-buttons">
              <button onclick="run('curl --connect-timeout 5 https://example.com')">connect timeout</button>
              <button onclick="run('curl --max-time 30 https://example.com')">max time</button>
              <button onclick="run('curl --retry 3 https://flaky.example.com')">retry</button>
              <button onclick="run('curl --retry 3 --retry-delay 2 https://example.com')">retry delay</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Proxy Settings</summary>
          <div class="command-group">
            <p class="command-desc">Route through proxy servers.</p>
            <div class="command-buttons">
              <button onclick="run('curl -x http://proxy.company.com:8080 https://example.com')">HTTP proxy</button>
              <button onclick="run('curl -x socks5://proxy:1080 https://example.com')">SOCKS5</button>
              <button onclick="run('curl --proxy-user user:pass -x http://proxy:8080 https://example.com')">proxy auth</button>
            </div>
          </div>
        </details>

        <details>
          <summary>JSON APIs</summary>
          <div class="command-group">
            <p class="command-desc">Common REST API patterns.</p>
            <div class="command-buttons">
              <button onclick="run('curl https://api.example.com/users | jq .')">GET + jq</button>
              <button onclick="run('curl -X POST -H &quot;Content-Type: application/json&quot; -d &quot;{ name: John }&quot; https://api.example.com/users')">Create</button>
              <button onclick="run('curl -X PUT -H &quot;Content-Type: application/json&quot; -d &quot;{ name: Jane }&quot; https://api.example.com/users/1')">Update</button>
              <button onclick="run('curl -X DELETE https://api.example.com/users/1')">Delete</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Output Formatting</summary>
          <div class="command-group">
            <p class="command-desc">Control output format.</p>
            <div class="command-buttons">
              <button onclick="run('curl -w &quot;%{http_code}\n&quot; -o /dev/null -s https://example.com')">status code</button>
              <button onclick="run('curl -w &quot;%{time_total}\n&quot; -o /dev/null -s https://example.com')">total time</button>
              <button onclick="run('curl -w &quot;%{size_download}\n&quot; -o /dev/null -s https://example.com')">download size</button>
              <button onclick="run('curl --trace-ascii - https://example.com')">ASCII trace</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Useful Examples</summary>
          <div class="command-group">
            <p class="command-desc">Real-world examples.</p>
            <div class="command-buttons">
              <button onclick="run('curl -s https://api.github.com/users/octocat | jq .name')">GitHub API</button>
              <button onclick="run('curl -s https://api.ipify.org?format=json')">Get my IP</button>
              <button onclick="run('curl -s https://wttr.in/London?format=3')">Weather</button>
            </div>
          </div>
        </details>
      </nav>
    </aside>

    <!-- Main Content -->
    <div class="demo-content">
      <section class="demo-terminal">
        <h1>cURL Commands</h1>
        <p class="demo-description">Interactive terminal for learning cURL HTTP client commands. Click buttons in the sidebar or type commands directly.</p>

        <terminal-window
          id="terminal"
          theme="dark"
          prompt="$ "
          cursor-style="block"
          cursor-blink="true"
          welcome="cURL Tutorial - Type 'help' for available commands."
        ></terminal-window>
      </section>

      <section class="demo-code">
        <div class="demo-code-header">
          <div>
            <h2>Example Code</h2>
            <p class="demo-description">HTML and JavaScript to create this interactive cURL terminal demo.</p>
          </div>
          <button class="btn primary" onclick="downloadDemo()">Download Demo</button>
        </div>

        <h3>HTML</h3>
        <code-block language="html">&lt;terminal-window
  id="terminal"
  theme="dark"
  prompt="$ "
  cursor-style="block"
  cursor-blink="true"
  welcome="cURL Tutorial - Type 'help' for available commands."
&gt;&lt;/terminal-window&gt;</code-block>

        <h3>JavaScript</h3>
        <code-block language="js">import { registerCurlCommands } from './commands/curl-commands.js';

const terminal = document.getElementById('terminal');

// Register all cURL commands
registerCurlCommands(terminal);

// Helper to run commands from buttons
function run(cmd) {
  terminal.executeCommand(cmd);
}</code-block>

        <h3>Custom Command Example</h3>
        <code-block language="js">// Simulated curl command handler
terminal.registerCommand('curl', (args) => {
  const url = args.find(a => a.startsWith('http'));
  const method = args.includes('-X') ?
    args[args.indexOf('-X') + 1] : 'GET';

  // Return simulated response
  return JSON.stringify({
    message: 'Success',
    method: method,
    url: url
  }, null, 2);
});</code-block>
      </section>
    </div>
  </main>

  <footer class="site-footer">
    <p>&copy; 2025 Thomas A. Powell. MIT License.</p>
  </footer>

  <script type="module" src="../src/terminal-window.js"></script>
  <script type="module" src="https://cdn.jsdelivr.net/gh/ProfPowell/code-block@v2.0.1/dist/code-block.min.js"></script>
  <script type="module">
    import { registerCurlCommands } from './commands/curl-commands.js';

    const terminal = document.getElementById('terminal');
    window.run = function(cmd) { terminal.executeCommand(cmd); }

    window.addEventListener('DOMContentLoaded', async () => {
      await customElements.whenDefined('terminal-window');
      registerCurlCommands(terminal);
    });
  </script>
  <script>
    // Theme toggle
    const themeToggle = document.querySelector('.theme-toggle');
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      document.body.classList.add('dark');
    }

    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
    });

    // Download demo as standalone HTML file
    async function downloadDemo() {
      const commandsResponse = await fetch('./commands/curl-commands.js');
      const commandsCode = await commandsResponse.text();

      const html = `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>cURL Commands - Terminal Demo</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 2rem; background: #1a1a2e; color: #fff; }
    h1 { margin-top: 0; }
    terminal-window { height: 500px; margin-top: 1rem; }
  </style>
</head>
<body>
  <h1>cURL Terminal</h1>
  <p>Interactive terminal for learning cURL commands. Type 'help' to see available commands.</p>

  <terminal-window
    id="terminal"
    theme="dark"
    prompt="$ "
    cursor-style="block"
    cursor-blink="true"
    welcome="cURL Tutorial - Type 'help' for available commands."
  ></terminal-window>

  <script type="module" src="https://cdn.jsdelivr.net/npm/@profpowell/terminal-window/dist/terminal-window.js"><\\/script>
  <script type="module">
${commandsCode}

const terminal = document.getElementById('terminal');
window.addEventListener('DOMContentLoaded', async () => {
  await customElements.whenDefined('terminal-window');
  registerCurlCommands(terminal);
});
  <\\/script>
</body>
</html>`;

      const blob = new Blob([html], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'curl-terminal-demo.html';
      a.click();
      URL.revokeObjectURL(url);
    }
    window.downloadDemo = downloadDemo;
  </script>
</body>
</html>
