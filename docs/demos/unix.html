<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unix Commands - terminal-window Demo</title>
  <meta name="description" content="Interactive Unix/Linux command reference with simulated terminal.">
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <header class="site-header">
    <nav>
      <a href="../index.html" class="nav-brand">&lt;terminal-window&gt;</a>
      <div class="nav-links">
        <a href="../index.html">Home</a>
        <a href="../demos.html" class="active">Demos</a>
        <a href="../api.html">API</a>
        <a href="https://github.com/ProfPowell/terminal-window" target="_blank" rel="noopener">GitHub</a>
        <button class="theme-toggle" aria-label="Toggle theme">ðŸŒ“</button>
      </div>
    </nav>
  </header>

  <main class="demo-layout">
    <!-- Sidebar Navigation -->
    <aside class="demo-sidebar">
      <h2>Unix Commands</h2>

      <nav class="command-nav">
        <details open>
          <summary>File Navigation</summary>
          <div class="command-group">
            <p class="command-desc">Navigate the file system.</p>
            <div class="command-buttons">
              <button onclick="run('pwd')">pwd</button>
              <button onclick="run('ls')">ls</button>
              <button onclick="run('ls -la')">ls -la</button>
              <button onclick="run('ls -lh')">ls -lh</button>
              <button onclick="run('cd /home')">cd /home</button>
              <button onclick="run('cd ..')">cd ..</button>
              <button onclick="run('cd ~')">cd ~</button>
              <button onclick="run('tree')">tree</button>
            </div>
          </div>
        </details>

        <details>
          <summary>File Operations</summary>
          <div class="command-group">
            <p class="command-desc">Create, copy, move, delete files.</p>
            <div class="command-buttons">
              <button onclick="run('touch newfile.txt')">touch</button>
              <button onclick="run('mkdir newdir')">mkdir</button>
              <button onclick="run('mkdir -p path/to/dir')">mkdir -p</button>
              <button onclick="run('cp file1.txt file2.txt')">cp</button>
              <button onclick="run('cp -r dir1 dir2')">cp -r</button>
              <button onclick="run('mv old.txt new.txt')">mv</button>
              <button onclick="run('rm file.txt')">rm</button>
              <button onclick="run('rm -rf directory')">rm -rf</button>
              <button onclick="run('ln -s target link')">ln -s</button>
            </div>
          </div>
        </details>

        <details>
          <summary>File Viewing</summary>
          <div class="command-group">
            <p class="command-desc">View file contents.</p>
            <div class="command-buttons">
              <button onclick="run('cat README.md')">cat</button>
              <button onclick="run('less README.md')">less</button>
              <button onclick="run('head README.md')">head</button>
              <button onclick="run('head -n 5 README.md')">head -n 5</button>
              <button onclick="run('tail README.md')">tail</button>
              <button onclick="run('tail -f /var/log/syslog')">tail -f</button>
              <button onclick="run('wc README.md')">wc</button>
              <button onclick="run('file README.md')">file</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Text Processing</summary>
          <div class="command-group">
            <p class="command-desc">Search and transform text.</p>
            <div class="command-buttons">
              <button onclick="run('grep error /var/log/syslog')">grep</button>
              <button onclick="run('grep -i ERROR logs.txt')">grep -i</button>
              <button onclick="run('grep -r TODO .')">grep -r</button>
              <button onclick="run('sed &quot;s/old/new/g&quot; file.txt')">sed</button>
              <button onclick="run('awk &quot;{print $1}&quot; file.txt')">awk</button>
              <button onclick="run('sort file.txt')">sort</button>
              <button onclick="run('uniq file.txt')">uniq</button>
              <button onclick="run('cut -d: -f1 /etc/passwd')">cut</button>
            </div>
          </div>
        </details>

        <details>
          <summary>File Search</summary>
          <div class="command-group">
            <p class="command-desc">Find files and directories.</p>
            <div class="command-buttons">
              <button onclick="run('find . -name &quot;*.txt&quot;')">find -name</button>
              <button onclick="run('find . -type f')">find -type f</button>
              <button onclick="run('find . -type d')">find -type d</button>
              <button onclick="run('find . -mtime -7')">find -mtime</button>
              <button onclick="run('locate filename')">locate</button>
              <button onclick="run('which bash')">which</button>
              <button onclick="run('whereis ls')">whereis</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Permissions</summary>
          <div class="command-group">
            <p class="command-desc">Manage file permissions.</p>
            <div class="command-buttons">
              <button onclick="run('chmod 755 script.sh')">chmod 755</button>
              <button onclick="run('chmod +x script.sh')">chmod +x</button>
              <button onclick="run('chown user:group file')">chown</button>
              <button onclick="run('chgrp group file')">chgrp</button>
              <button onclick="run('umask')">umask</button>
              <button onclick="run('stat file.txt')">stat</button>
            </div>
          </div>
        </details>

        <details>
          <summary>System Info</summary>
          <div class="command-group">
            <p class="command-desc">View system information.</p>
            <div class="command-buttons">
              <button onclick="run('uname -a')">uname -a</button>
              <button onclick="run('hostname')">hostname</button>
              <button onclick="run('uptime')">uptime</button>
              <button onclick="run('whoami')">whoami</button>
              <button onclick="run('id')">id</button>
              <button onclick="run('date')">date</button>
              <button onclick="run('cal')">cal</button>
              <button onclick="run('df -h')">df -h</button>
              <button onclick="run('du -sh *')">du -sh</button>
              <button onclick="run('free -h')">free -h</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Process Management</summary>
          <div class="command-group">
            <p class="command-desc">View and manage processes.</p>
            <div class="command-buttons">
              <button onclick="run('ps')">ps</button>
              <button onclick="run('ps aux')">ps aux</button>
              <button onclick="run('ps aux | grep node')">ps | grep</button>
              <button onclick="run('top')">top</button>
              <button onclick="run('htop')">htop</button>
              <button onclick="run('kill 1234')">kill</button>
              <button onclick="run('kill -9 1234')">kill -9</button>
              <button onclick="run('killall node')">killall</button>
              <button onclick="run('jobs')">jobs</button>
              <button onclick="run('bg')">bg</button>
              <button onclick="run('fg')">fg</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Networking</summary>
          <div class="command-group">
            <p class="command-desc">Network commands.</p>
            <div class="command-buttons">
              <button onclick="run('ping google.com')">ping</button>
              <button onclick="run('ifconfig')">ifconfig</button>
              <button onclick="run('ip addr')">ip addr</button>
              <button onclick="run('netstat -tulpn')">netstat</button>
              <button onclick="run('ss -tulpn')">ss</button>
              <button onclick="run('nslookup google.com')">nslookup</button>
              <button onclick="run('dig google.com')">dig</button>
              <button onclick="run('wget https://example.com')">wget</button>
              <button onclick="run('curl https://api.example.com')">curl</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Compression</summary>
          <div class="command-group">
            <p class="command-desc">Compress and extract archives.</p>
            <div class="command-buttons">
              <button onclick="run('tar -cvf archive.tar files/')">tar -cvf</button>
              <button onclick="run('tar -xvf archive.tar')">tar -xvf</button>
              <button onclick="run('tar -czvf archive.tar.gz files/')">tar -czvf</button>
              <button onclick="run('tar -xzvf archive.tar.gz')">tar -xzvf</button>
              <button onclick="run('gzip file.txt')">gzip</button>
              <button onclick="run('gunzip file.txt.gz')">gunzip</button>
              <button onclick="run('zip -r archive.zip dir/')">zip</button>
              <button onclick="run('unzip archive.zip')">unzip</button>
            </div>
          </div>
        </details>

        <details>
          <summary>User Management</summary>
          <div class="command-group">
            <p class="command-desc">Manage users (requires root).</p>
            <div class="command-buttons">
              <button onclick="run('sudo useradd newuser')">useradd</button>
              <button onclick="run('sudo userdel olduser')">userdel</button>
              <button onclick="run('sudo passwd user')">passwd</button>
              <button onclick="run('groups')">groups</button>
              <button onclick="run('su - user')">su</button>
              <button onclick="run('sudo command')">sudo</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Package Management</summary>
          <div class="command-group">
            <p class="command-desc">Install software packages.</p>
            <div class="command-buttons">
              <button onclick="run('apt update')">apt update</button>
              <button onclick="run('apt upgrade')">apt upgrade</button>
              <button onclick="run('apt install package')">apt install</button>
              <button onclick="run('apt remove package')">apt remove</button>
              <button onclick="run('apt search keyword')">apt search</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Environment</summary>
          <div class="command-group">
            <p class="command-desc">Environment variables.</p>
            <div class="command-buttons">
              <button onclick="run('env')">env</button>
              <button onclick="run('printenv')">printenv</button>
              <button onclick="run('echo $PATH')">echo $PATH</button>
              <button onclick="run('echo $HOME')">echo $HOME</button>
              <button onclick="run('export VAR=value')">export</button>
              <button onclick="run('alias ll=&quot;ls -la&quot;')">alias</button>
              <button onclick="run('history')">history</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Redirection & Pipes</summary>
          <div class="command-group">
            <p class="command-desc">I/O redirection.</p>
            <div class="command-buttons">
              <button onclick="run('echo hello > file.txt')">></button>
              <button onclick="run('echo hello >> file.txt')">>></button>
              <button onclick="run('cat < file.txt')"><</button>
              <button onclick="run('ls | grep txt')">|</button>
              <button onclick="run('command > /dev/null')">/dev/null</button>
              <button onclick="run('cat file.txt | tee output.txt')">tee</button>
              <button onclick="run('ls -la | xargs rm')">xargs</button>
            </div>
          </div>
        </details>

        <details>
          <summary>Fun Commands</summary>
          <div class="command-group">
            <p class="command-desc">Just for fun!</p>
            <div class="command-buttons">
              <button onclick="run('cowsay Hello!')">cowsay</button>
              <button onclick="run('fortune')">fortune</button>
              <button onclick="run('figlet UNIX')">figlet</button>
              <button onclick="run('matrix')">matrix</button>
              <button onclick="run('neofetch')">neofetch</button>
            </div>
          </div>
        </details>
      </nav>
    </aside>

    <!-- Main Content -->
    <div class="demo-content">
      <section class="demo-terminal">
        <h1>Unix/Linux Commands</h1>
        <p class="demo-description">Interactive terminal for learning Unix/Linux commands. Click buttons in the sidebar or type commands directly.</p>

        <terminal-window
          id="terminal"
          theme="dark"
          prompt="user@linux:~$ "
          cursor-style="block"
          cursor-blink="true"
          welcome="Unix Command Trainer - Type 'help' for available commands."
        ></terminal-window>
      </section>

      <section class="demo-code">
        <div class="demo-code-header">
          <div>
            <h2>Example Code</h2>
            <p class="demo-description">HTML and JavaScript to create this interactive Unix terminal demo.</p>
          </div>
          <button class="btn primary" onclick="downloadDemo()">Download Demo</button>
        </div>

        <h3>HTML</h3>
        <code-block language="html">&lt;terminal-window
  id="terminal"
  theme="dark"
  prompt="user@linux:~$ "
  cursor-style="block"
  cursor-blink="true"
  welcome="Unix Command Trainer - Type 'help' for available commands."
&gt;&lt;/terminal-window&gt;</code-block>

        <h3>JavaScript</h3>
        <code-block language="js">import { registerUnixCommands } from './commands/unix-commands.js';

const terminal = document.getElementById('terminal');

// Register all Unix commands
registerUnixCommands(terminal);

// Helper to run commands from buttons
function run(cmd) {
  terminal.executeCommand(cmd);
}</code-block>

        <h3>Custom Command Example</h3>
        <code-block language="js">// Simulated ls command
terminal.registerCommand('ls', (args) => {
  const showHidden = args.includes('-a') || args.includes('-la');
  const longFormat = args.includes('-l') || args.includes('-la');

  let files = ['Documents', 'Downloads', 'Pictures'];
  if (showHidden) files.unshift('.bashrc', '.profile');

  if (longFormat) {
    return files.map(f =>
      `drwxr-xr-x  2 user user 4096 Jan 15 10:30 ${f}`
    ).join('\\n');
  }
  return files.join('  ');
});</code-block>
      </section>
    </div>
  </main>

  <footer class="site-footer">
    <p>&copy; 2025 Thomas A. Powell. MIT License.</p>
  </footer>

  <script type="module" src="../src/terminal-window.js"></script>
  <script type="module" src="https://cdn.jsdelivr.net/gh/ProfPowell/code-block@v2.0.1/dist/code-block.min.js"></script>
  <script type="module">
    import { registerUnixCommands } from './commands/unix-commands.js';

    const terminal = document.getElementById('terminal');
    window.run = function(cmd) { terminal.executeCommand(cmd); }

    window.addEventListener('DOMContentLoaded', async () => {
      await customElements.whenDefined('terminal-window');
      registerUnixCommands(terminal);
    });
  </script>
  <script>
    // Theme toggle
    const themeToggle = document.querySelector('.theme-toggle');
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      document.body.classList.add('dark');
    }

    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
    });

    // Download demo as standalone HTML file
    async function downloadDemo() {
      const commandsResponse = await fetch('./commands/unix-commands.js');
      const commandsCode = await commandsResponse.text();

      const html = `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unix Commands - Terminal Demo</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 2rem; background: #1a1a2e; color: #fff; }
    h1 { margin-top: 0; }
    terminal-window { height: 500px; margin-top: 1rem; }
  </style>
</head>
<body>
  <h1>Unix Terminal</h1>
  <p>Interactive terminal for learning Unix commands. Type 'help' to see available commands.</p>

  <terminal-window
    id="terminal"
    theme="dark"
    prompt="user@linux:~$ "
    cursor-style="block"
    cursor-blink="true"
    welcome="Unix Command Trainer - Type 'help' for available commands."
  ></terminal-window>

  <script type="module" src="https://cdn.jsdelivr.net/npm/@profpowell/terminal-window/dist/terminal-window.js"><\\/script>
  <script type="module">
${commandsCode}

const terminal = document.getElementById('terminal');
window.addEventListener('DOMContentLoaded', async () => {
  await customElements.whenDefined('terminal-window');
  registerUnixCommands(terminal);
});
  <\\/script>
</body>
</html>`;

      const blob = new Blob([html], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'unix-terminal-demo.html';
      a.click();
      URL.revokeObjectURL(url);
    }
    window.downloadDemo = downloadDemo;
  </script>
</body>
</html>
